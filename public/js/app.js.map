{
  "version": 3,
  "sources": ["../../winnetoujs/node_modules/winnetoujs/modules/translations.js", "../../winnetoujs/node_modules/winnetoujs/src/winnetou.js", "../../winnetoujs/src/strings.js", "../../winnetoujs/src/app.ts"],
  "sourcesContent": ["/**\n * @file translations.js\n * @description This file handles the translations for the application.\n * It fetches the translation files based on the selected language and updates the strings accordingly.\n * @author Pamela Sedrez\n * \n * @param {object} args\n * @param {object} args.stringsClass\n * @param {object} args.translationsPublicPath\n */\nexport const updateTranslations = async args => {\n  /**\n   * Function to get json from API\n   * @param {string} url API Endpoint\n   */\n  const get = url => {\n    return new Promise((resolve, reject) => {\n      fetch(url, {\n        method: \"GET\",\n      })\n        .then(function (response) {\n          if (response.ok) {\n            return response.json();\n          } else {\n            return reject(\"Translation file not found. Code error kj438dj.\");\n          }\n        })\n        .then(function (data) {\n          return resolve(data);\n        })\n        .catch(function (error) {\n          return reject(\"Translation file not found. Code error kj438dssj.\");\n        });\n    });\n  };\n\n  return new Promise(async (resolve, reject) => {\n    if (!window.localStorage.getItem(\"lang\")) return resolve(true);\n    const localLang = window.localStorage.getItem(\"lang\");\n    const file = `${args.translationsPublicPath}/${localLang}.json`;\n    let data;\n    try {\n      data = await get(file);\n    } catch (e) {\n      console.warn(\n        `WinnetouJs translations error. Reloading... The file '${file}' was not found.`\n      );\n      window.localStorage.removeItem(\"lang\");\n      setTimeout(() => {\n        location.reload();\n      }, 200);\n    }\n    Object.keys(data).map(key => {\n      let value = data[key];\n      args.stringsClass[key] = value;\n    });\n    return resolve(true);\n  });\n};\n\n/**\n * Changes the language of the application\n * \n * @param {string} lang string language\n * @param {boolean} [reload] boolean reload page, default is true\n */\nexport const changeLang = (lang, reload = true) => {\n  window.localStorage.setItem(\"lang\", lang);\n  reload && location.reload();\n};\n", "class Winnetou_ {\r\n  constructor() {\r\n    /**\r\n     * Incrementally id when no specific identifier is given\r\n     *\r\n     * @type {number}\r\n     */\r\n    this.constructoId = 0;\r\n\r\n    /**\r\n     * Variable that stores mutables who should not have been\r\n     * persistent when updating the application\r\n     * @protected\r\n     * @type {array}\r\n     */\r\n    this.mutable = [];\r\n\r\n    /**\r\n     * List of constructos that are subscribed to the mutable listener\r\n     *\r\n     * @type {array}\r\n     */\r\n    this.usingMutable = [];\r\n\r\n    /**@private */\r\n    this.storedEvents = [];\r\n\r\n    /**@type {object} */\r\n    this.strings = {};\r\n\r\n    /**\r\n     * @type {any}\r\n     * @private\r\n     * */\r\n    this.observer;\r\n  }\r\n\r\n  setMutable(mutable, value, localStorage) {\r\n    if (localStorage !== false && localStorage !== \"notPersistent\") {\r\n      // it must save in localstorage\r\n      window.localStorage.setItem(`mutable_${mutable}`, value);\r\n    }\r\n\r\n    if (localStorage === false || localStorage === \"notPersistent\") {\r\n      // it must save in ephemeral memory\r\n      this.mutable[mutable] = value;\r\n    }\r\n\r\n    if (this.usingMutable[mutable]) {\r\n      /**\r\n       * if the mutable has constructos\r\n       * copy array to tmpArr\r\n       */\r\n      let tmpArr = this.usingMutable[mutable];\r\n\r\n      this.usingMutable[mutable] = [];\r\n\r\n      tmpArr.forEach(item => {\r\n        /**\r\n         * go through the tmpArr to handle constructos\r\n         */\r\n        let old_ = document.getElementById(item.pureId);\r\n\r\n        if (old_ == null) return;\r\n\r\n        let new_ = document\r\n          .createRange()\r\n          .createContextualFragment(\r\n            new item.method(item.elements, item.options).constructoString()\r\n          );\r\n\r\n        this.replace(new_, old_);\r\n      });\r\n    }\r\n  }\r\n\r\n  initMutable(value) {\r\n    let name = (new Date().getMilliseconds() * Math.random() * 10000).toFixed(\r\n      0\r\n    );\r\n\r\n    this.setMutable(name, value, \"notPersistent\");\r\n\r\n    return name;\r\n  }\r\n\r\n  setMutableNotPersistent(mutable, value) {\r\n    this.setMutable(mutable, value, \"notPersistent\");\r\n  }\r\n\r\n  getMutable(mutable) {\r\n    if (\r\n      window.localStorage.getItem(`mutable_${mutable}`) ||\r\n      window.localStorage.getItem(`mutable_${mutable}`) === \"\"\r\n    ) {\r\n      return window.localStorage.getItem(`mutable_${mutable}`);\r\n    } else if (this.mutable[mutable] || this.mutable[mutable] === \"\") {\r\n      return this.mutable[mutable];\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  mutations = {\r\n    /**\r\n     * Starts the entire app constructos removal watch events. This method is only called once, even if you instantiate it several times. Only works if your main app element is 'app'.\r\n     * @returns {boolean}\r\n     */\r\n    start: () => {\r\n      if (this.observer) return;\r\n      this.observer = new MutationObserver(mutationsArray => {\r\n        try {\r\n          mutationsArray.forEach(MutationRecord => {\r\n            MutationRecord.removedNodes.forEach(removedNode => {\r\n              let removedId =\r\n                removedNode instanceof Element ? removedNode.id : null;\r\n              document.getElementById(\"app\").dispatchEvent(\r\n                new CustomEvent(\"constructoRemoved\", {\r\n                  detail: { removedId },\r\n                })\r\n              );\r\n            });\r\n          });\r\n        } catch (e) {}\r\n      });\r\n      this.observer.disconnect();\r\n      this.observer.observe(document.getElementById(\"app\"), {\r\n        childList: true,\r\n        subtree: true,\r\n      });\r\n      return true;\r\n    },\r\n    /**\r\n     * Add a remove event binding to constructo\r\n     * @param {string} id constructo id that will be watched\r\n     * @param {function} callback the function that will be called when constructo is removed\r\n     * @returns {boolean}\r\n     */\r\n    onRemove: (id, callback) => {\r\n      const controller = new AbortController();\r\n      const signal = controller.signal;\r\n      document.getElementById(\"app\").addEventListener(\r\n        \"constructoRemoved\",\r\n        /**\r\n         *\r\n         * @param {CustomEvent} data\r\n         */\r\n        data => {\r\n          if (id === data.detail.removedId) {\r\n            callback();\r\n            controller.abort();\r\n          }\r\n        },\r\n        {\r\n          signal,\r\n        }\r\n      );\r\n      return true;\r\n    },\r\n    /**\r\n     * Remove the main listener from app.\r\n     * Using this method is discouraged as\r\n     * it may break your app elsewhere in the code.\r\n     * Use it at your own risk.\r\n     */\r\n    destroy: () => {\r\n      setTimeout(() => {\r\n        this.observer.disconnect();\r\n        this.observer = null;\r\n      }, 100);\r\n    },\r\n  };\r\n\r\n  replace(new_, old_) {\r\n    if (old_ && old_.parentNode) {\r\n      let ele_ = old_.parentNode;\r\n      ele_.replaceChild(new_, old_);\r\n    }\r\n  }\r\n\r\n  fx(function_, ...args) {\r\n    let name =\r\n      \"winnetouFx\" +\r\n      (new Date().getMilliseconds() * Math.random() * 10000).toFixed(0);\r\n    window[name] = function_;\r\n    return `${name}(${args\r\n      .map(x => (x === \"this\" ? `this` : `'${x}'`))\r\n      .join(\",\")})`;\r\n  }\r\n}\r\n\r\nexport const Winnetou = new Winnetou_();\r\nexport const W = Winnetou;\r\nexport const Win = Winnetou;\r\n", "import { W } from \"winnetoujs\";\n\nexport default W.strings = {\n  // Common UI elements\n  save: \"Save\",\n  cancel: \"Cancel\",\n  delete: \"Delete\",\n  edit: \"Edit\",\n  create: \"Create\",\n  update: \"Update\",\n  close: \"Close\",\n  open: \"Open\",\n\n  // Navigation\n  home: \"Home\",\n  back: \"Back\",\n  next: \"Next\",\n  previous: \"Previous\",\n  menu: \"Menu\",\n\n  // Form elements\n  name: \"Name\",\n  email: \"Email\",\n  password: \"Password\",\n  confirmPassword: \"Confirm Password\",\n  username: \"Username\",\n  search: \"Search\",\n  submit: \"Submit\",\n  reset: \"Reset\",\n\n  // Messages\n  welcome: \"Welcome\",\n  loading: \"Loading...\",\n  error: \"An error occurred\",\n  success: \"Operation completed successfully\",\n  noData: \"No data available\",\n  confirmDelete: \"Are you sure you want to delete this item?\",\n\n  // Validation messages\n  required: \"This field is required\",\n  invalidEmail: \"Please enter a valid email address\",\n  passwordMismatch: \"Passwords do not match\",\n  minLength: \"Minimum length required\",\n\n  // Date and time\n  today: \"Today\",\n  yesterday: \"Yesterday\",\n  tomorrow: \"Tomorrow\",\n  date: \"Date\",\n  time: \"Time\",\n\n  // Status messages\n  online: \"Online\",\n  offline: \"Offline\",\n  connecting: \"Connecting...\",\n  connected: \"Connected\",\n  disconnected: \"Disconnected\",\n};\n", "import {\n  updateTranslations,\n  changeLang,\n} from \"winnetoujs/modules/translations\";\nimport strings from \"./strings\";\n\nupdateTranslations({\n  stringsClass: strings,\n  translationsPublicPath: \"/translations\",\n}).then(() => {\n  new app();\n});\n\nclass app {\n  constructor() {\n    this.render();\n  }\n\n  private render() {}\n}\n"],
  "mappings": "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",
  "names": []
}
